void dsym_adx(double epsilon, const VectorXd& vXrest, const VectorXd& vx, VectorXd& out) {
    const double x0 = vXrest[0]*vXrest[3] - vXrest[0]*vXrest[5] - vXrest[1]*vXrest[2] + vXrest[1]*vXrest[4] + vXrest[2]*vXrest[5] - vXrest[3]*vXrest[4];
    const double x1 = 1.0/x0;
    const double x2 = x1*(-vXrest[0] + vXrest[2]);
    const double x3 = -1/x0;
    const double x4 = x3*(-vXrest[0] + vXrest[4]);
    const double x5 = -x2 - x4;
    const double x6 = -vx[0] + vx[6];
    const double x7 = vXrest[1] - vXrest[3];
    const double x8 = x1*x7;
    const double x9 = -vx[0] + vx[3];
    const double x10 = vXrest[1] - vXrest[5];
    const double x11 = x10*x3;
    const double x12 = x11*x9 + x6*x8;
    const double x13 = x12*x5;
    const double x14 = -x11 - x8;
    const double x15 = x2*x6 + x4*x9;
    const double x16 = x14*x15;
    const double x17 = x13 + x16;
    const double x18 = pow(x15, 2);
    const double x19 = -vx[1] + vx[7];
    const double x20 = -vx[1] + vx[4];
    const double x21 = x19*x2 + x20*x4;
    const double x22 = pow(x21, 2);
    const double x23 = -vx[2] + vx[8];
    const double x24 = -vx[2] + vx[5];
    const double x25 = x2*x23 + x24*x4;
    const double x26 = pow(x25, 2);
    const double x27 = pow(x12, 2);
    const double x28 = x11*x20 + x19*x8;
    const double x29 = pow(x28, 2);
    const double x30 = x11*x24 + x23*x8;
    const double x31 = pow(x30, 2);
    const double x32 = x18 + x22 + x26 - x27 - x29 - x31 <= 0 ? 1.0 : 0.0;
    const double x33 = 1 - x32;
    const double x34 = 2*x2;
    const double x35 = 2*x4;
    const double x36 = -x34 - x35;
    const double x37 = x15*x36;
    const double x38 = (1.0/2.0)*x37;
    const double x39 = 2*x8;
    const double x40 = 2*x11;
    const double x41 = -x39 - x40;
    const double x42 = (1.0/2.0)*x12*x41;
    const double x43 = x12*x15 + x21*x28 + x25*x30;
    const double x44 = (1.0/2.0)*x18;
    const double x45 = (1.0/2.0)*x22;
    const double x46 = (1.0/2.0)*x26;
    const double x47 = (1.0/2.0)*x27;
    const double x48 = (1.0/2.0)*x29;
    const double x49 = (1.0/2.0)*x31;
    const double x50 = x44 + x45 + x46 - x47 - x48 - x49;
    const double x51 = -x50;
    const double x52 = sqrt(epsilon + pow(x43, 2) + pow(x51, 2));
    const double x53 = 1.0/x52;
    const double x54 = (1.0/2.0)*x43;
    const double x55 = (1.0/2.0)*x51;
    const double x56 = x53*(x54*(2*x13 + 2*x16) + x55*(x12*x41 - x37));
    const double x57 = x32*x43 + x33*(x50 + x52);
    const double x58 = x32*(-x44 - x45 - x46 + x47 + x48 + x49 + x52) + x33*x43;
    const double x59 = 1.0/(1.0*pow(x57, 2) + 1.0*pow(x58, 2));
    const double x60 = 1.0*x57*x59;
    const double x61 = x28*x5;
    const double x62 = x14*x21;
    const double x63 = x61 + x62;
    const double x64 = x21*x36;
    const double x65 = (1.0/2.0)*x64;
    const double x66 = (1.0/2.0)*x28*x41;
    const double x67 = x53*(x54*(2*x61 + 2*x62) + x55*(x28*x41 - x64));
    const double x68 = x30*x5;
    const double x69 = x14*x25;
    const double x70 = x68 + x69;
    const double x71 = x25*x36;
    const double x72 = (1.0/2.0)*x71;
    const double x73 = (1.0/2.0)*x30*x41;
    const double x74 = x53*(x54*(2*x68 + 2*x69) + x55*(x30*x41 - x71));
    const double x75 = x11*x15 + x12*x4;
    const double x76 = x11*x12;
    const double x77 = x15*x4;
    const double x78 = x53*(x54*(x12*x35 + x15*x40) + x55*(2*x10*x12*x3 - x15*x35));
    const double x79 = x11*x21 + x28*x4;
    const double x80 = x11*x28;
    const double x81 = x21*x4;
    const double x82 = x53*(x54*(x21*x40 + x28*x35) + x55*(2*x10*x28*x3 - x21*x35));
    const double x83 = x11*x25 + x30*x4;
    const double x84 = x11*x30;
    const double x85 = x25*x4;
    const double x86 = x53*(x54*(x25*x40 + x30*x35) + x55*(2*x10*x3*x30 - x25*x35));
    const double x87 = x12*x2 + x15*x8;
    const double x88 = x12*x8;
    const double x89 = x15*x2;
    const double x90 = x53*(x54*(x12*x34 + x15*x39) + x55*(2*x1*x12*x7 - x15*x34));
    const double x91 = x2*x28 + x21*x8;
    const double x92 = x28*x8;
    const double x93 = x2*x21;
    const double x94 = x53*(x54*(x21*x39 + x28*x34) + x55*(2*x1*x28*x7 - x21*x34));
    const double x95 = x2*x30 + x25*x8;
    const double x96 = x30*x8;
    const double x97 = x2*x25;
    const double x98 = x53*(x54*(x25*x39 + x30*x34) + x55*(2*x1*x30*x7 - x25*x34));

    out.resize(18);
    out[0] = 1.0*x58*x59*(x17*x32 + x33*(x38 - x42 + x56)) - x60*(x17*x33 + x32*(-x38 + x42 + x56));
    out[1] = 1.0*x58*x59*(x32*x63 + x33*(x65 - x66 + x67)) - x60*(x32*(-x65 + x66 + x67) + x33*x63);
    out[2] = 1.0*x58*x59*(x32*x70 + x33*(x72 - x73 + x74)) - x60*(x32*(-x72 + x73 + x74) + x33*x70);
    out[3] = 1.0*x58*x59*(x32*x75 + x33*(-x76 + x77 + x78)) - x60*(x32*(x76 - x77 + x78) + x33*x75);
    out[4] = 1.0*x58*x59*(x32*x79 + x33*(-x80 + x81 + x82)) - x60*(x32*(x80 - x81 + x82) + x33*x79);
    out[5] = 1.0*x58*x59*(x32*x83 + x33*(-x84 + x85 + x86)) - x60*(x32*(x84 - x85 + x86) + x33*x83);
    out[6] = 1.0*x58*x59*(x32*x87 + x33*(-x88 + x89 + x90)) - x60*(x32*(x88 - x89 + x90) + x33*x87);
    out[7] = 1.0*x58*x59*(x32*x91 + x33*(-x92 + x93 + x94)) - x60*(x32*(x92 - x93 + x94) + x33*x91);
    out[8] = 1.0*x58*x59*(x32*x95 + x33*(-x96 + x97 + x98)) - x60*(x32*(x96 - x97 + x98) + x33*x95);
    out[9] = 0;
    out[10] = 0;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 0;
    out[16] = 0;
    out[17] = 0;

}
