void d2sym_cdx2(double epsilon, const VectorXd& vXrest, const VectorXd& vx, MatrixXd& out) {
    const double x0 = -vXrest[0] + vXrest[2];
    const double x1 = vXrest[0]*vXrest[3] - vXrest[0]*vXrest[5] - vXrest[1]*vXrest[2] + vXrest[1]*vXrest[4] + vXrest[2]*vXrest[5] - vXrest[3]*vXrest[4];
    const double x2 = 1.0/x1;
    const double x3 = x0*x2;
    const double x4 = 2*x3;
    const double x5 = -vXrest[0] + vXrest[4];
    const double x6 = -x1;
    const double x7 = 1.0/x6;
    const double x8 = x5*x7;
    const double x9 = 2*x8;
    const double x10 = x4 + x9;
    const double x11 = -x10;
    const double x12 = -vx[0] + vx[6];
    const double x13 = -vx[0] + vx[3];
    const double x14 = x12*x3 + x13*x8;
    const double x15 = x11*x14;
    const double x16 = vXrest[1] - vXrest[3];
    const double x17 = x16*x2;
    const double x18 = 2*x17;
    const double x19 = vXrest[1] - vXrest[5];
    const double x20 = x19*x7;
    const double x21 = 2*x20;
    const double x22 = -x18 - x21;
    const double x23 = x12*x17 + x13*x20;
    const double x24 = -vx[1] + vx[7];
    const double x25 = -vx[1] + vx[4];
    const double x26 = x24*x3 + x25*x8;
    const double x27 = x17*x24 + x20*x25;
    const double x28 = -vx[2] + vx[8];
    const double x29 = -vx[2] + vx[5];
    const double x30 = x28*x3 + x29*x8;
    const double x31 = x17*x28 + x20*x29;
    const double x32 = x14*x23 + x26*x27 + x30*x31;
    const double x33 = pow(x23, 2);
    const double x34 = pow(x27, 2);
    const double x35 = pow(x31, 2);
    const double x36 = (1.0/2.0)*pow(x14, 2) + (1.0/2.0)*pow(x26, 2) + (1.0/2.0)*pow(x30, 2);
    const double x37 = (1.0/2.0)*x33 + (1.0/2.0)*x34 + (1.0/2.0)*x35 - x36;
    const double x38 = epsilon + pow(x32, 2) + pow(x37, 2);
    const double x39 = sqrt(x38);
    const double x40 = 1.0/x39;
    const double x41 = -x3 - x8;
    const double x42 = x23*x41;
    const double x43 = -x17 - x20;
    const double x44 = x14*x43;
    const double x45 = (1.0/2.0)*x32;
    const double x46 = (1.0/2.0)*x37;
    const double x47 = x45*(2*x42 + 2*x44) + x46*(-x15 + x22*x23);
    const double x48 = (1.0/4.0)*x15 + (1.0/4.0)*x22*x23 - 1.0/2.0*x40*x47;
    const double x49 = (1.0/2.0)*x33 + (1.0/2.0)*x34 + (1.0/2.0)*x35 + x36 - x39;
    const double x50 = pow(x49, -3.0/2.0);
    const double x51 = x48*x50;
    const double x52 = pow(x49, -1.0/2.0);
    const double x53 = x42 + x44;
    const double x54 = -1.0/2.0*x15 + (1.0/2.0)*x22*x23;
    const double x55 = (1.0/2.0)*x43;
    const double x56 = (1.0/2.0)*x41;
    const double x57 = x32*(x11*x55 + x22*x56) + x37*(x10*x56 + x22*x55);
    const double x58 = (1.0/2.0)*x40;
    const double x59 = (1.0/2.0)/pow(x38, 3.0/2.0);
    const double x60 = x47*x59;
    const double x61 = (1.0/2.0)*x3;
    const double x62 = (1.0/2.0)*x8;
    const double x63 = -x61 - x62;
    const double x64 = (1.0/2.0)*x17;
    const double x65 = (1.0/2.0)*x20;
    const double x66 = -x64 - x65;
    const double x67 = -x41*x63 - x43*x66;
    const double x68 = x11*x26;
    const double x69 = x27*x41;
    const double x70 = x26*x43;
    const double x71 = x45*(2*x69 + 2*x70) + x46*(x22*x27 - x68);
    const double x72 = (1.0/4.0)*x22*x27 - 1.0/2.0*x40*x71 + (1.0/4.0)*x68;
    const double x73 = -x72;
    const double x74 = x69 + x70;
    const double x75 = (1.0/2.0)*x22*x27 - 1.0/2.0*x68;
    const double x76 = -x71;
    const double x77 = -x51*x73 - x52*(-x58*(x53*x74 + x54*x75) - x60*x76);
    const double x78 = x11*x30;
    const double x79 = x31*x41;
    const double x80 = x30*x43;
    const double x81 = x45*(2*x79 + 2*x80) + x46*(x22*x31 - x78);
    const double x82 = (1.0/4.0)*x22*x31 - 1.0/2.0*x40*x81 + (1.0/4.0)*x78;
    const double x83 = -x82;
    const double x84 = x79 + x80;
    const double x85 = (1.0/2.0)*x22*x31 - 1.0/2.0*x78;
    const double x86 = -x81;
    const double x87 = -x51*x83 - x52*(-x58*(x53*x84 + x54*x85) - x60*x86);
    const double x88 = x45*(x14*x21 + x23*x9) + x46*(-x14*x9 + 2*x19*x23*x7);
    const double x89 = x14*x62 + x23*x65 - 1.0/2.0*x40*x88;
    const double x90 = -x89;
    const double x91 = x14*x20 + x23*x8;
    const double x92 = -x14*x8 + x19*x23*x7;
    const double x93 = x32*(x11*x65 + x22*x62) + x37*(x10*x62 + x22*x65);
    const double x94 = -x88;
    const double x95 = -x19*x66*x7 - x5*x63*x7;
    const double x96 = -x51*x90 - x52*(-x58*(x53*x91 + x54*x92 + x93) - x60*x94 - x95);
    const double x97 = x45*(x21*x26 + x27*x9) + x46*(2*x19*x27*x7 - x26*x9);
    const double x98 = x26*x62 + x27*x65 - 1.0/2.0*x40*x97;
    const double x99 = -x98;
    const double x100 = x20*x26 + x27*x8;
    const double x101 = x19*x27*x7 - x26*x8;
    const double x102 = -x97;
    const double x103 = -x51*x99 - x52*(-x102*x60 - x58*(x100*x53 + x101*x54));
    const double x104 = x45*(x21*x30 + x31*x9) + x46*(2*x19*x31*x7 - x30*x9);
    const double x105 = -1.0/2.0*x104*x40 + x30*x62 + x31*x65;
    const double x106 = -x105;
    const double x107 = x20*x30 + x31*x8;
    const double x108 = x19*x31*x7 - x30*x8;
    const double x109 = -x104;
    const double x110 = -x106*x51 - x52*(-x109*x60 - x58*(x107*x53 + x108*x54));
    const double x111 = x45*(x14*x18 + x23*x4) + x46*(-x14*x4 + 2*x16*x2*x23);
    const double x112 = -1.0/2.0*x111*x40 + x14*x61 + x23*x64;
    const double x113 = -x112;
    const double x114 = x14*x17 + x23*x3;
    const double x115 = -x14*x3 + x16*x2*x23;
    const double x116 = x32*(x11*x64 + x22*x61) + x37*(x10*x61 + x22*x64);
    const double x117 = -x111;
    const double x118 = -x0*x2*x63 - x16*x2*x66;
    const double x119 = -x113*x51 - x52*(-x117*x60 - x118 - x58*(x114*x53 + x115*x54 + x116));
    const double x120 = x45*(x18*x26 + x27*x4) + x46*(2*x16*x2*x27 - x26*x4);
    const double x121 = -1.0/2.0*x120*x40 + x26*x61 + x27*x64;
    const double x122 = -x121;
    const double x123 = x17*x26 + x27*x3;
    const double x124 = x16*x2*x27 - x26*x3;
    const double x125 = -x120;
    const double x126 = -x122*x51 - x52*(-x125*x60 - x58*(x123*x53 + x124*x54));
    const double x127 = x45*(x18*x30 + x31*x4) + x46*(2*x16*x2*x31 - x30*x4);
    const double x128 = -1.0/2.0*x127*x40 + x30*x61 + x31*x64;
    const double x129 = -x128;
    const double x130 = x17*x30 + x3*x31;
    const double x131 = x16*x2*x31 - x3*x30;
    const double x132 = -x127;
    const double x133 = -x129*x51 - x52*(-x132*x60 - x58*(x130*x53 + x131*x54));
    const double x134 = x50*x72;
    const double x135 = x59*x71;
    const double x136 = -x134*x83 - x52*(-x135*x86 - x58*(x74*x84 + x75*x85));
    const double x137 = -x134*x90 - x52*(-x135*x94 - x58*(x74*x91 + x75*x92));
    const double x138 = -x134*x99 - x52*(-x102*x135 - x58*(x100*x74 + x101*x75 + x93) - x95);
    const double x139 = -x106*x134 - x52*(-x109*x135 - x58*(x107*x74 + x108*x75));
    const double x140 = -x113*x134 - x52*(-x117*x135 - x58*(x114*x74 + x115*x75));
    const double x141 = -x122*x134 - x52*(-x118 - x125*x135 - x58*(x116 + x123*x74 + x124*x75));
    const double x142 = -x129*x134 - x52*(-x132*x135 - x58*(x130*x74 + x131*x75));
    const double x143 = x50*x82;
    const double x144 = x59*x81;
    const double x145 = -x143*x90 - x52*(-x144*x94 - x58*(x84*x91 + x85*x92));
    const double x146 = -x143*x99 - x52*(-x102*x144 - x58*(x100*x84 + x101*x85));
    const double x147 = -x106*x143 - x52*(-x109*x144 - x58*(x107*x84 + x108*x85 + x93) - x95);
    const double x148 = -x113*x143 - x52*(-x117*x144 - x58*(x114*x84 + x115*x85));
    const double x149 = -x122*x143 - x52*(-x125*x144 - x58*(x123*x84 + x124*x85));
    const double x150 = -x129*x143 - x52*(-x118 - x132*x144 - x58*(x116 + x130*x84 + x131*x85));
    const double x151 = x50*x89;
    const double x152 = pow(x5, 2);
    const double x153 = pow(x6, -2);
    const double x154 = pow(x19, 2);
    const double x155 = 2*x32;
    const double x156 = x153*x155*x19*x5 + x37*(-x152*x153 + x153*x154);
    const double x157 = x59*x88;
    const double x158 = -1.0/2.0*x152*x153 - 1.0/2.0*x153*x154;
    const double x159 = -x151*x99 - x52*(-x102*x157 - x58*(x100*x91 + x101*x92));
    const double x160 = -x106*x151 - x52*(-x109*x157 - x58*(x107*x91 + x108*x92));
    const double x161 = x32*(x17*x8 + x20*x3) + x37*(x16*x19*x2*x7 - x3*x8);
    const double x162 = -1.0/2.0*x0*x2*x5*x7 - 1.0/2.0*x16*x19*x2*x7;
    const double x163 = -x113*x151 - x52*(-x117*x157 - x162 - x58*(x114*x91 + x115*x92 + x161));
    const double x164 = -x122*x151 - x52*(-x125*x157 - x58*(x123*x91 + x124*x92));
    const double x165 = -x129*x151 - x52*(-x132*x157 - x58*(x130*x91 + x131*x92));
    const double x166 = x50*x98;
    const double x167 = x59*x97;
    const double x168 = -x106*x166 - x52*(-x109*x167 - x58*(x100*x107 + x101*x108));
    const double x169 = -x113*x166 - x52*(-x117*x167 - x58*(x100*x114 + x101*x115));
    const double x170 = -x122*x166 - x52*(-x125*x167 - x162 - x58*(x100*x123 + x101*x124 + x161));
    const double x171 = -x129*x166 - x52*(-x132*x167 - x58*(x100*x130 + x101*x131));
    const double x172 = x105*x50;
    const double x173 = x104*x59;
    const double x174 = -x113*x172 - x52*(-x117*x173 - x58*(x107*x114 + x108*x115));
    const double x175 = -x122*x172 - x52*(-x125*x173 - x58*(x107*x123 + x108*x124));
    const double x176 = -x129*x172 - x52*(-x132*x173 - x162 - x58*(x107*x130 + x108*x131 + x161));
    const double x177 = x112*x50;
    const double x178 = pow(x0, 2);
    const double x179 = pow(x1, -2);
    const double x180 = pow(x16, 2);
    const double x181 = x0*x155*x16*x179 + x37*(-x178*x179 + x179*x180);
    const double x182 = x111*x59;
    const double x183 = -1.0/2.0*x178*x179 - 1.0/2.0*x179*x180;
    const double x184 = -x122*x177 - x52*(-x125*x182 - x58*(x114*x123 + x115*x124));
    const double x185 = -x129*x177 - x52*(-x132*x182 - x58*(x114*x130 + x115*x131));
    const double x186 = x121*x50;
    const double x187 = x120*x59;
    const double x188 = -x129*x186 - x52*(-x132*x187 - x58*(x123*x130 + x124*x131));

    out.resize(18, 18);
    out(0, 0) = x48*x51 - x52*(x47*x60 - x58*(pow(x53, 2) + pow(x54, 2) + x57) - x67);
    out(0, 1) = x77;
    out(0, 2) = x87;
    out(0, 3) = x96;
    out(0, 4) = x103;
    out(0, 5) = x110;
    out(0, 6) = x119;
    out(0, 7) = x126;
    out(0, 8) = x133;
    out(0, 9) = 0;
    out(0, 10) = 0;
    out(0, 11) = 0;
    out(0, 12) = 0;
    out(0, 13) = 0;
    out(0, 14) = 0;
    out(0, 15) = 0;
    out(0, 16) = 0;
    out(0, 17) = 0;
    out(1, 0) = x77;
    out(1, 1) = -x134*x73 - x52*(-x135*x76 - x58*(x57 + pow(x74, 2) + pow(x75, 2)) - x67);
    out(1, 2) = x136;
    out(1, 3) = x137;
    out(1, 4) = x138;
    out(1, 5) = x139;
    out(1, 6) = x140;
    out(1, 7) = x141;
    out(1, 8) = x142;
    out(1, 9) = 0;
    out(1, 10) = 0;
    out(1, 11) = 0;
    out(1, 12) = 0;
    out(1, 13) = 0;
    out(1, 14) = 0;
    out(1, 15) = 0;
    out(1, 16) = 0;
    out(1, 17) = 0;
    out(2, 0) = x87;
    out(2, 1) = x136;
    out(2, 2) = -x143*x83 - x52*(-x144*x86 - x58*(x57 + pow(x84, 2) + pow(x85, 2)) - x67);
    out(2, 3) = x145;
    out(2, 4) = x146;
    out(2, 5) = x147;
    out(2, 6) = x148;
    out(2, 7) = x149;
    out(2, 8) = x150;
    out(2, 9) = 0;
    out(2, 10) = 0;
    out(2, 11) = 0;
    out(2, 12) = 0;
    out(2, 13) = 0;
    out(2, 14) = 0;
    out(2, 15) = 0;
    out(2, 16) = 0;
    out(2, 17) = 0;
    out(3, 0) = x96;
    out(3, 1) = x137;
    out(3, 2) = x145;
    out(3, 3) = -x151*x90 - x52*(-x157*x94 - x158 - x58*(x156 + pow(x91, 2) + pow(x92, 2)));
    out(3, 4) = x159;
    out(3, 5) = x160;
    out(3, 6) = x163;
    out(3, 7) = x164;
    out(3, 8) = x165;
    out(3, 9) = 0;
    out(3, 10) = 0;
    out(3, 11) = 0;
    out(3, 12) = 0;
    out(3, 13) = 0;
    out(3, 14) = 0;
    out(3, 15) = 0;
    out(3, 16) = 0;
    out(3, 17) = 0;
    out(4, 0) = x103;
    out(4, 1) = x138;
    out(4, 2) = x146;
    out(4, 3) = x159;
    out(4, 4) = -x166*x99 - x52*(-x102*x167 - x158 - x58*(pow(x100, 2) + pow(x101, 2) + x156));
    out(4, 5) = x168;
    out(4, 6) = x169;
    out(4, 7) = x170;
    out(4, 8) = x171;
    out(4, 9) = 0;
    out(4, 10) = 0;
    out(4, 11) = 0;
    out(4, 12) = 0;
    out(4, 13) = 0;
    out(4, 14) = 0;
    out(4, 15) = 0;
    out(4, 16) = 0;
    out(4, 17) = 0;
    out(5, 0) = x110;
    out(5, 1) = x139;
    out(5, 2) = x147;
    out(5, 3) = x160;
    out(5, 4) = x168;
    out(5, 5) = -x106*x172 - x52*(-x109*x173 - x158 - x58*(pow(x107, 2) + pow(x108, 2) + x156));
    out(5, 6) = x174;
    out(5, 7) = x175;
    out(5, 8) = x176;
    out(5, 9) = 0;
    out(5, 10) = 0;
    out(5, 11) = 0;
    out(5, 12) = 0;
    out(5, 13) = 0;
    out(5, 14) = 0;
    out(5, 15) = 0;
    out(5, 16) = 0;
    out(5, 17) = 0;
    out(6, 0) = x119;
    out(6, 1) = x140;
    out(6, 2) = x148;
    out(6, 3) = x163;
    out(6, 4) = x169;
    out(6, 5) = x174;
    out(6, 6) = -x113*x177 - x52*(-x117*x182 - x183 - x58*(pow(x114, 2) + pow(x115, 2) + x181));
    out(6, 7) = x184;
    out(6, 8) = x185;
    out(6, 9) = 0;
    out(6, 10) = 0;
    out(6, 11) = 0;
    out(6, 12) = 0;
    out(6, 13) = 0;
    out(6, 14) = 0;
    out(6, 15) = 0;
    out(6, 16) = 0;
    out(6, 17) = 0;
    out(7, 0) = x126;
    out(7, 1) = x141;
    out(7, 2) = x149;
    out(7, 3) = x164;
    out(7, 4) = x170;
    out(7, 5) = x175;
    out(7, 6) = x184;
    out(7, 7) = -x122*x186 - x52*(-x125*x187 - x183 - x58*(pow(x123, 2) + pow(x124, 2) + x181));
    out(7, 8) = x188;
    out(7, 9) = 0;
    out(7, 10) = 0;
    out(7, 11) = 0;
    out(7, 12) = 0;
    out(7, 13) = 0;
    out(7, 14) = 0;
    out(7, 15) = 0;
    out(7, 16) = 0;
    out(7, 17) = 0;
    out(8, 0) = x133;
    out(8, 1) = x142;
    out(8, 2) = x150;
    out(8, 3) = x165;
    out(8, 4) = x171;
    out(8, 5) = x176;
    out(8, 6) = x185;
    out(8, 7) = x188;
    out(8, 8) = -x128*x129*x50 - x52*(-x127*x132*x59 - x183 - x58*(pow(x130, 2) + pow(x131, 2) + x181));
    out(8, 9) = 0;
    out(8, 10) = 0;
    out(8, 11) = 0;
    out(8, 12) = 0;
    out(8, 13) = 0;
    out(8, 14) = 0;
    out(8, 15) = 0;
    out(8, 16) = 0;
    out(8, 17) = 0;
    out(9, 0) = 0;
    out(9, 1) = 0;
    out(9, 2) = 0;
    out(9, 3) = 0;
    out(9, 4) = 0;
    out(9, 5) = 0;
    out(9, 6) = 0;
    out(9, 7) = 0;
    out(9, 8) = 0;
    out(9, 9) = 0;
    out(9, 10) = 0;
    out(9, 11) = 0;
    out(9, 12) = 0;
    out(9, 13) = 0;
    out(9, 14) = 0;
    out(9, 15) = 0;
    out(9, 16) = 0;
    out(9, 17) = 0;
    out(10, 0) = 0;
    out(10, 1) = 0;
    out(10, 2) = 0;
    out(10, 3) = 0;
    out(10, 4) = 0;
    out(10, 5) = 0;
    out(10, 6) = 0;
    out(10, 7) = 0;
    out(10, 8) = 0;
    out(10, 9) = 0;
    out(10, 10) = 0;
    out(10, 11) = 0;
    out(10, 12) = 0;
    out(10, 13) = 0;
    out(10, 14) = 0;
    out(10, 15) = 0;
    out(10, 16) = 0;
    out(10, 17) = 0;
    out(11, 0) = 0;
    out(11, 1) = 0;
    out(11, 2) = 0;
    out(11, 3) = 0;
    out(11, 4) = 0;
    out(11, 5) = 0;
    out(11, 6) = 0;
    out(11, 7) = 0;
    out(11, 8) = 0;
    out(11, 9) = 0;
    out(11, 10) = 0;
    out(11, 11) = 0;
    out(11, 12) = 0;
    out(11, 13) = 0;
    out(11, 14) = 0;
    out(11, 15) = 0;
    out(11, 16) = 0;
    out(11, 17) = 0;
    out(12, 0) = 0;
    out(12, 1) = 0;
    out(12, 2) = 0;
    out(12, 3) = 0;
    out(12, 4) = 0;
    out(12, 5) = 0;
    out(12, 6) = 0;
    out(12, 7) = 0;
    out(12, 8) = 0;
    out(12, 9) = 0;
    out(12, 10) = 0;
    out(12, 11) = 0;
    out(12, 12) = 0;
    out(12, 13) = 0;
    out(12, 14) = 0;
    out(12, 15) = 0;
    out(12, 16) = 0;
    out(12, 17) = 0;
    out(13, 0) = 0;
    out(13, 1) = 0;
    out(13, 2) = 0;
    out(13, 3) = 0;
    out(13, 4) = 0;
    out(13, 5) = 0;
    out(13, 6) = 0;
    out(13, 7) = 0;
    out(13, 8) = 0;
    out(13, 9) = 0;
    out(13, 10) = 0;
    out(13, 11) = 0;
    out(13, 12) = 0;
    out(13, 13) = 0;
    out(13, 14) = 0;
    out(13, 15) = 0;
    out(13, 16) = 0;
    out(13, 17) = 0;
    out(14, 0) = 0;
    out(14, 1) = 0;
    out(14, 2) = 0;
    out(14, 3) = 0;
    out(14, 4) = 0;
    out(14, 5) = 0;
    out(14, 6) = 0;
    out(14, 7) = 0;
    out(14, 8) = 0;
    out(14, 9) = 0;
    out(14, 10) = 0;
    out(14, 11) = 0;
    out(14, 12) = 0;
    out(14, 13) = 0;
    out(14, 14) = 0;
    out(14, 15) = 0;
    out(14, 16) = 0;
    out(14, 17) = 0;
    out(15, 0) = 0;
    out(15, 1) = 0;
    out(15, 2) = 0;
    out(15, 3) = 0;
    out(15, 4) = 0;
    out(15, 5) = 0;
    out(15, 6) = 0;
    out(15, 7) = 0;
    out(15, 8) = 0;
    out(15, 9) = 0;
    out(15, 10) = 0;
    out(15, 11) = 0;
    out(15, 12) = 0;
    out(15, 13) = 0;
    out(15, 14) = 0;
    out(15, 15) = 0;
    out(15, 16) = 0;
    out(15, 17) = 0;
    out(16, 0) = 0;
    out(16, 1) = 0;
    out(16, 2) = 0;
    out(16, 3) = 0;
    out(16, 4) = 0;
    out(16, 5) = 0;
    out(16, 6) = 0;
    out(16, 7) = 0;
    out(16, 8) = 0;
    out(16, 9) = 0;
    out(16, 10) = 0;
    out(16, 11) = 0;
    out(16, 12) = 0;
    out(16, 13) = 0;
    out(16, 14) = 0;
    out(16, 15) = 0;
    out(16, 16) = 0;
    out(16, 17) = 0;
    out(17, 0) = 0;
    out(17, 1) = 0;
    out(17, 2) = 0;
    out(17, 3) = 0;
    out(17, 4) = 0;
    out(17, 5) = 0;
    out(17, 6) = 0;
    out(17, 7) = 0;
    out(17, 8) = 0;
    out(17, 9) = 0;
    out(17, 10) = 0;
    out(17, 11) = 0;
    out(17, 12) = 0;
    out(17, 13) = 0;
    out(17, 14) = 0;
    out(17, 15) = 0;
    out(17, 16) = 0;
    out(17, 17) = 0;

}
