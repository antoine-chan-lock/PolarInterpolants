void d2sym_sdx2(double epsilon, const VectorXd& vXrest, const VectorXd& vx, MatrixXd& out) {
    const double x0 = -vXrest[0] + vXrest[2];
    const double x1 = vXrest[0]*vXrest[3] - vXrest[0]*vXrest[5] - vXrest[1]*vXrest[2] + vXrest[1]*vXrest[4] + vXrest[2]*vXrest[5] - vXrest[3]*vXrest[4];
    const double x2 = 1.0/x1;
    const double x3 = x0*x2;
    const double x4 = 2*x3;
    const double x5 = -vXrest[0] + vXrest[4];
    const double x6 = -x1;
    const double x7 = 1.0/x6;
    const double x8 = x5*x7;
    const double x9 = 2*x8;
    const double x10 = x4 + x9;
    const double x11 = -x10;
    const double x12 = -vx[0] + vx[6];
    const double x13 = -vx[0] + vx[3];
    const double x14 = x12*x3 + x13*x8;
    const double x15 = x11*x14;
    const double x16 = vXrest[1] - vXrest[3];
    const double x17 = x16*x2;
    const double x18 = 2*x17;
    const double x19 = vXrest[1] - vXrest[5];
    const double x20 = x19*x7;
    const double x21 = 2*x20;
    const double x22 = -x18 - x21;
    const double x23 = x12*x17 + x13*x20;
    const double x24 = -x3 - x8;
    const double x25 = x23*x24;
    const double x26 = -x17 - x20;
    const double x27 = x14*x26;
    const double x28 = -vx[1] + vx[7];
    const double x29 = -vx[1] + vx[4];
    const double x30 = x28*x3 + x29*x8;
    const double x31 = x17*x28 + x20*x29;
    const double x32 = -vx[2] + vx[8];
    const double x33 = -vx[2] + vx[5];
    const double x34 = x3*x32 + x33*x8;
    const double x35 = x17*x32 + x20*x33;
    const double x36 = x14*x23 + x30*x31 + x34*x35;
    const double x37 = (1.0/2.0)*x36;
    const double x38 = pow(x23, 2);
    const double x39 = pow(x31, 2);
    const double x40 = pow(x35, 2);
    const double x41 = (1.0/2.0)*pow(x14, 2) + (1.0/2.0)*pow(x30, 2) + (1.0/2.0)*pow(x34, 2);
    const double x42 = (1.0/2.0)*x38 + (1.0/2.0)*x39 + (1.0/2.0)*x40 - x41;
    const double x43 = (1.0/2.0)*x42;
    const double x44 = x37*(2*x25 + 2*x27) + x43*(-x15 + x22*x23);
    const double x45 = epsilon + pow(x36, 2) + pow(x42, 2);
    const double x46 = sqrt(x45);
    const double x47 = (1.0/2.0)/x46;
    const double x48 = (1.0/4.0)*x15 + (1.0/4.0)*x22*x23 + x44*x47;
    const double x49 = (1.0/2.0)*x38 + (1.0/2.0)*x39 + (1.0/2.0)*x40 + x41 + x46;
    const double x50 = pow(x49, -3.0/2.0);
    const double x51 = x48*x50;
    const double x52 = pow(x49, -1.0/2.0);
    const double x53 = x25 + x27;
    const double x54 = -1.0/2.0*x15 + (1.0/2.0)*x22*x23;
    const double x55 = (1.0/2.0)*x26;
    const double x56 = (1.0/2.0)*x24;
    const double x57 = x36*(x11*x55 + x22*x56) + x42*(x10*x56 + x22*x55);
    const double x58 = (1.0/2.0)/pow(x45, 3.0/2.0);
    const double x59 = x44*x58;
    const double x60 = (1.0/2.0)*x3;
    const double x61 = (1.0/2.0)*x8;
    const double x62 = -x60 - x61;
    const double x63 = (1.0/2.0)*x17;
    const double x64 = (1.0/2.0)*x20;
    const double x65 = -x63 - x64;
    const double x66 = x24*x62 + x26*x65;
    const double x67 = x11*x30;
    const double x68 = x24*x31;
    const double x69 = x26*x30;
    const double x70 = x37*(2*x68 + 2*x69) + x43*(x22*x31 - x67);
    const double x71 = (1.0/4.0)*x22*x31 + x47*x70 + (1.0/4.0)*x67;
    const double x72 = -x71;
    const double x73 = x68 + x69;
    const double x74 = (1.0/2.0)*x22*x31 - 1.0/2.0*x67;
    const double x75 = -x70;
    const double x76 = x51*x72 + x52*(x47*(x53*x73 + x54*x74) + x59*x75);
    const double x77 = x11*x34;
    const double x78 = x24*x35;
    const double x79 = x26*x34;
    const double x80 = x37*(2*x78 + 2*x79) + x43*(x22*x35 - x77);
    const double x81 = (1.0/4.0)*x22*x35 + x47*x80 + (1.0/4.0)*x77;
    const double x82 = -x81;
    const double x83 = x78 + x79;
    const double x84 = (1.0/2.0)*x22*x35 - 1.0/2.0*x77;
    const double x85 = -x80;
    const double x86 = x51*x82 + x52*(x47*(x53*x83 + x54*x84) + x59*x85);
    const double x87 = x37*(x14*x21 + x23*x9) + x43*(-x14*x9 + 2*x19*x23*x7);
    const double x88 = x14*x61 + x23*x64 + x47*x87;
    const double x89 = -x88;
    const double x90 = x14*x20 + x23*x8;
    const double x91 = -x14*x8 + x19*x23*x7;
    const double x92 = x36*(x11*x64 + x22*x61) + x42*(x10*x61 + x22*x64);
    const double x93 = -x87;
    const double x94 = x20*x65 + x62*x8;
    const double x95 = x51*x89 + x52*(x47*(x53*x90 + x54*x91 + x92) + x59*x93 + x94);
    const double x96 = x37*(x21*x30 + x31*x9) + x43*(2*x19*x31*x7 - x30*x9);
    const double x97 = x30*x61 + x31*x64 + x47*x96;
    const double x98 = -x97;
    const double x99 = x20*x30 + x31*x8;
    const double x100 = x19*x31*x7 - x30*x8;
    const double x101 = -x96;
    const double x102 = x51*x98 + x52*(x101*x59 + x47*(x100*x54 + x53*x99));
    const double x103 = x37*(x21*x34 + x35*x9) + x43*(2*x19*x35*x7 - x34*x9);
    const double x104 = x103*x47 + x34*x61 + x35*x64;
    const double x105 = -x104;
    const double x106 = x20*x34 + x35*x8;
    const double x107 = x19*x35*x7 - x34*x8;
    const double x108 = -x103;
    const double x109 = x105*x51 + x52*(x108*x59 + x47*(x106*x53 + x107*x54));
    const double x110 = x37*(x14*x18 + x23*x4) + x43*(-x14*x4 + 2*x16*x2*x23);
    const double x111 = x110*x47 + x14*x60 + x23*x63;
    const double x112 = -x111;
    const double x113 = x14*x17 + x23*x3;
    const double x114 = -x14*x3 + x16*x2*x23;
    const double x115 = x36*(x11*x63 + x22*x60) + x42*(x10*x60 + x22*x63);
    const double x116 = -x110;
    const double x117 = x17*x65 + x3*x62;
    const double x118 = x112*x51 + x52*(x116*x59 + x117 + x47*(x113*x53 + x114*x54 + x115));
    const double x119 = x37*(x18*x30 + x31*x4) + x43*(2*x16*x2*x31 - x30*x4);
    const double x120 = x119*x47 + x30*x60 + x31*x63;
    const double x121 = -x120;
    const double x122 = x17*x30 + x3*x31;
    const double x123 = x16*x2*x31 - x3*x30;
    const double x124 = -x119;
    const double x125 = x121*x51 + x52*(x124*x59 + x47*(x122*x53 + x123*x54));
    const double x126 = x37*(x18*x34 + x35*x4) + x43*(2*x16*x2*x35 - x34*x4);
    const double x127 = x126*x47 + x34*x60 + x35*x63;
    const double x128 = -x127;
    const double x129 = x17*x34 + x3*x35;
    const double x130 = x16*x2*x35 - x3*x34;
    const double x131 = -x126;
    const double x132 = x128*x51 + x52*(x131*x59 + x47*(x129*x53 + x130*x54));
    const double x133 = x50*x71;
    const double x134 = x58*x70;
    const double x135 = x133*x82 + x52*(x134*x85 + x47*(x73*x83 + x74*x84));
    const double x136 = x133*x89 + x52*(x134*x93 + x47*(x73*x90 + x74*x91));
    const double x137 = x133*x98 + x52*(x101*x134 + x47*(x100*x74 + x73*x99 + x92) + x94);
    const double x138 = x105*x133 + x52*(x108*x134 + x47*(x106*x73 + x107*x74));
    const double x139 = x112*x133 + x52*(x116*x134 + x47*(x113*x73 + x114*x74));
    const double x140 = x121*x133 + x52*(x117 + x124*x134 + x47*(x115 + x122*x73 + x123*x74));
    const double x141 = x128*x133 + x52*(x131*x134 + x47*(x129*x73 + x130*x74));
    const double x142 = x50*x81;
    const double x143 = x58*x80;
    const double x144 = x142*x89 + x52*(x143*x93 + x47*(x83*x90 + x84*x91));
    const double x145 = x142*x98 + x52*(x101*x143 + x47*(x100*x84 + x83*x99));
    const double x146 = x105*x142 + x52*(x108*x143 + x47*(x106*x83 + x107*x84 + x92) + x94);
    const double x147 = x112*x142 + x52*(x116*x143 + x47*(x113*x83 + x114*x84));
    const double x148 = x121*x142 + x52*(x124*x143 + x47*(x122*x83 + x123*x84));
    const double x149 = x128*x142 + x52*(x117 + x131*x143 + x47*(x115 + x129*x83 + x130*x84));
    const double x150 = x50*x88;
    const double x151 = pow(x6, -2);
    const double x152 = x151*pow(x5, 2);
    const double x153 = pow(x19, 2);
    const double x154 = 2*x36;
    const double x155 = x151*x154*x19*x5 + x42*(x151*x153 - x152);
    const double x156 = x58*x87;
    const double x157 = (1.0/2.0)*x151*x153 + (1.0/2.0)*x152;
    const double x158 = x150*x98 + x52*(x101*x156 + x47*(x100*x91 + x90*x99));
    const double x159 = x105*x150 + x52*(x108*x156 + x47*(x106*x90 + x107*x91));
    const double x160 = x36*(x17*x8 + x20*x3) + x42*(x16*x19*x2*x7 - x3*x8);
    const double x161 = x20*x63 + x60*x8;
    const double x162 = x112*x150 + x52*(x116*x156 + x161 + x47*(x113*x90 + x114*x91 + x160));
    const double x163 = x121*x150 + x52*(x124*x156 + x47*(x122*x90 + x123*x91));
    const double x164 = x128*x150 + x52*(x131*x156 + x47*(x129*x90 + x130*x91));
    const double x165 = x50*x97;
    const double x166 = x58*x96;
    const double x167 = x105*x165 + x52*(x108*x166 + x47*(x100*x107 + x106*x99));
    const double x168 = x112*x165 + x52*(x116*x166 + x47*(x100*x114 + x113*x99));
    const double x169 = x121*x165 + x52*(x124*x166 + x161 + x47*(x100*x123 + x122*x99 + x160));
    const double x170 = x128*x165 + x52*(x131*x166 + x47*(x100*x130 + x129*x99));
    const double x171 = x104*x50;
    const double x172 = x103*x58;
    const double x173 = x112*x171 + x52*(x116*x172 + x47*(x106*x113 + x107*x114));
    const double x174 = x121*x171 + x52*(x124*x172 + x47*(x106*x122 + x107*x123));
    const double x175 = x128*x171 + x52*(x131*x172 + x161 + x47*(x106*x129 + x107*x130 + x160));
    const double x176 = x111*x50;
    const double x177 = pow(x1, -2);
    const double x178 = pow(x0, 2)*x177;
    const double x179 = pow(x16, 2);
    const double x180 = x0*x154*x16*x177 + x42*(x177*x179 - x178);
    const double x181 = x110*x58;
    const double x182 = (1.0/2.0)*x177*x179 + (1.0/2.0)*x178;
    const double x183 = x121*x176 + x52*(x124*x181 + x47*(x113*x122 + x114*x123));
    const double x184 = x128*x176 + x52*(x131*x181 + x47*(x113*x129 + x114*x130));
    const double x185 = x120*x50;
    const double x186 = x119*x58;
    const double x187 = x128*x185 + x52*(x131*x186 + x47*(x122*x129 + x123*x130));

    out.resize(18, 18);
    out(0, 0) = -x48*x51 + x52*(-x44*x59 + x47*(pow(x53, 2) + pow(x54, 2) + x57) + x66);
    out(0, 1) = x76;
    out(0, 2) = x86;
    out(0, 3) = x95;
    out(0, 4) = x102;
    out(0, 5) = x109;
    out(0, 6) = x118;
    out(0, 7) = x125;
    out(0, 8) = x132;
    out(0, 9) = 0;
    out(0, 10) = 0;
    out(0, 11) = 0;
    out(0, 12) = 0;
    out(0, 13) = 0;
    out(0, 14) = 0;
    out(0, 15) = 0;
    out(0, 16) = 0;
    out(0, 17) = 0;
    out(1, 0) = x76;
    out(1, 1) = x133*x72 + x52*(x134*x75 + x47*(x57 + pow(x73, 2) + pow(x74, 2)) + x66);
    out(1, 2) = x135;
    out(1, 3) = x136;
    out(1, 4) = x137;
    out(1, 5) = x138;
    out(1, 6) = x139;
    out(1, 7) = x140;
    out(1, 8) = x141;
    out(1, 9) = 0;
    out(1, 10) = 0;
    out(1, 11) = 0;
    out(1, 12) = 0;
    out(1, 13) = 0;
    out(1, 14) = 0;
    out(1, 15) = 0;
    out(1, 16) = 0;
    out(1, 17) = 0;
    out(2, 0) = x86;
    out(2, 1) = x135;
    out(2, 2) = x142*x82 + x52*(x143*x85 + x47*(x57 + pow(x83, 2) + pow(x84, 2)) + x66);
    out(2, 3) = x144;
    out(2, 4) = x145;
    out(2, 5) = x146;
    out(2, 6) = x147;
    out(2, 7) = x148;
    out(2, 8) = x149;
    out(2, 9) = 0;
    out(2, 10) = 0;
    out(2, 11) = 0;
    out(2, 12) = 0;
    out(2, 13) = 0;
    out(2, 14) = 0;
    out(2, 15) = 0;
    out(2, 16) = 0;
    out(2, 17) = 0;
    out(3, 0) = x95;
    out(3, 1) = x136;
    out(3, 2) = x144;
    out(3, 3) = x150*x89 + x52*(x156*x93 + x157 + x47*(x155 + pow(x90, 2) + pow(x91, 2)));
    out(3, 4) = x158;
    out(3, 5) = x159;
    out(3, 6) = x162;
    out(3, 7) = x163;
    out(3, 8) = x164;
    out(3, 9) = 0;
    out(3, 10) = 0;
    out(3, 11) = 0;
    out(3, 12) = 0;
    out(3, 13) = 0;
    out(3, 14) = 0;
    out(3, 15) = 0;
    out(3, 16) = 0;
    out(3, 17) = 0;
    out(4, 0) = x102;
    out(4, 1) = x137;
    out(4, 2) = x145;
    out(4, 3) = x158;
    out(4, 4) = x165*x98 + x52*(x101*x166 + x157 + x47*(pow(x100, 2) + x155 + pow(x99, 2)));
    out(4, 5) = x167;
    out(4, 6) = x168;
    out(4, 7) = x169;
    out(4, 8) = x170;
    out(4, 9) = 0;
    out(4, 10) = 0;
    out(4, 11) = 0;
    out(4, 12) = 0;
    out(4, 13) = 0;
    out(4, 14) = 0;
    out(4, 15) = 0;
    out(4, 16) = 0;
    out(4, 17) = 0;
    out(5, 0) = x109;
    out(5, 1) = x138;
    out(5, 2) = x146;
    out(5, 3) = x159;
    out(5, 4) = x167;
    out(5, 5) = x105*x171 + x52*(x108*x172 + x157 + x47*(pow(x106, 2) + pow(x107, 2) + x155));
    out(5, 6) = x173;
    out(5, 7) = x174;
    out(5, 8) = x175;
    out(5, 9) = 0;
    out(5, 10) = 0;
    out(5, 11) = 0;
    out(5, 12) = 0;
    out(5, 13) = 0;
    out(5, 14) = 0;
    out(5, 15) = 0;
    out(5, 16) = 0;
    out(5, 17) = 0;
    out(6, 0) = x118;
    out(6, 1) = x139;
    out(6, 2) = x147;
    out(6, 3) = x162;
    out(6, 4) = x168;
    out(6, 5) = x173;
    out(6, 6) = x112*x176 + x52*(x116*x181 + x182 + x47*(pow(x113, 2) + pow(x114, 2) + x180));
    out(6, 7) = x183;
    out(6, 8) = x184;
    out(6, 9) = 0;
    out(6, 10) = 0;
    out(6, 11) = 0;
    out(6, 12) = 0;
    out(6, 13) = 0;
    out(6, 14) = 0;
    out(6, 15) = 0;
    out(6, 16) = 0;
    out(6, 17) = 0;
    out(7, 0) = x125;
    out(7, 1) = x140;
    out(7, 2) = x148;
    out(7, 3) = x163;
    out(7, 4) = x169;
    out(7, 5) = x174;
    out(7, 6) = x183;
    out(7, 7) = x121*x185 + x52*(x124*x186 + x182 + x47*(pow(x122, 2) + pow(x123, 2) + x180));
    out(7, 8) = x187;
    out(7, 9) = 0;
    out(7, 10) = 0;
    out(7, 11) = 0;
    out(7, 12) = 0;
    out(7, 13) = 0;
    out(7, 14) = 0;
    out(7, 15) = 0;
    out(7, 16) = 0;
    out(7, 17) = 0;
    out(8, 0) = x132;
    out(8, 1) = x141;
    out(8, 2) = x149;
    out(8, 3) = x164;
    out(8, 4) = x170;
    out(8, 5) = x175;
    out(8, 6) = x184;
    out(8, 7) = x187;
    out(8, 8) = x127*x128*x50 + x52*(x126*x131*x58 + x182 + x47*(pow(x129, 2) + pow(x130, 2) + x180));
    out(8, 9) = 0;
    out(8, 10) = 0;
    out(8, 11) = 0;
    out(8, 12) = 0;
    out(8, 13) = 0;
    out(8, 14) = 0;
    out(8, 15) = 0;
    out(8, 16) = 0;
    out(8, 17) = 0;
    out(9, 0) = 0;
    out(9, 1) = 0;
    out(9, 2) = 0;
    out(9, 3) = 0;
    out(9, 4) = 0;
    out(9, 5) = 0;
    out(9, 6) = 0;
    out(9, 7) = 0;
    out(9, 8) = 0;
    out(9, 9) = 0;
    out(9, 10) = 0;
    out(9, 11) = 0;
    out(9, 12) = 0;
    out(9, 13) = 0;
    out(9, 14) = 0;
    out(9, 15) = 0;
    out(9, 16) = 0;
    out(9, 17) = 0;
    out(10, 0) = 0;
    out(10, 1) = 0;
    out(10, 2) = 0;
    out(10, 3) = 0;
    out(10, 4) = 0;
    out(10, 5) = 0;
    out(10, 6) = 0;
    out(10, 7) = 0;
    out(10, 8) = 0;
    out(10, 9) = 0;
    out(10, 10) = 0;
    out(10, 11) = 0;
    out(10, 12) = 0;
    out(10, 13) = 0;
    out(10, 14) = 0;
    out(10, 15) = 0;
    out(10, 16) = 0;
    out(10, 17) = 0;
    out(11, 0) = 0;
    out(11, 1) = 0;
    out(11, 2) = 0;
    out(11, 3) = 0;
    out(11, 4) = 0;
    out(11, 5) = 0;
    out(11, 6) = 0;
    out(11, 7) = 0;
    out(11, 8) = 0;
    out(11, 9) = 0;
    out(11, 10) = 0;
    out(11, 11) = 0;
    out(11, 12) = 0;
    out(11, 13) = 0;
    out(11, 14) = 0;
    out(11, 15) = 0;
    out(11, 16) = 0;
    out(11, 17) = 0;
    out(12, 0) = 0;
    out(12, 1) = 0;
    out(12, 2) = 0;
    out(12, 3) = 0;
    out(12, 4) = 0;
    out(12, 5) = 0;
    out(12, 6) = 0;
    out(12, 7) = 0;
    out(12, 8) = 0;
    out(12, 9) = 0;
    out(12, 10) = 0;
    out(12, 11) = 0;
    out(12, 12) = 0;
    out(12, 13) = 0;
    out(12, 14) = 0;
    out(12, 15) = 0;
    out(12, 16) = 0;
    out(12, 17) = 0;
    out(13, 0) = 0;
    out(13, 1) = 0;
    out(13, 2) = 0;
    out(13, 3) = 0;
    out(13, 4) = 0;
    out(13, 5) = 0;
    out(13, 6) = 0;
    out(13, 7) = 0;
    out(13, 8) = 0;
    out(13, 9) = 0;
    out(13, 10) = 0;
    out(13, 11) = 0;
    out(13, 12) = 0;
    out(13, 13) = 0;
    out(13, 14) = 0;
    out(13, 15) = 0;
    out(13, 16) = 0;
    out(13, 17) = 0;
    out(14, 0) = 0;
    out(14, 1) = 0;
    out(14, 2) = 0;
    out(14, 3) = 0;
    out(14, 4) = 0;
    out(14, 5) = 0;
    out(14, 6) = 0;
    out(14, 7) = 0;
    out(14, 8) = 0;
    out(14, 9) = 0;
    out(14, 10) = 0;
    out(14, 11) = 0;
    out(14, 12) = 0;
    out(14, 13) = 0;
    out(14, 14) = 0;
    out(14, 15) = 0;
    out(14, 16) = 0;
    out(14, 17) = 0;
    out(15, 0) = 0;
    out(15, 1) = 0;
    out(15, 2) = 0;
    out(15, 3) = 0;
    out(15, 4) = 0;
    out(15, 5) = 0;
    out(15, 6) = 0;
    out(15, 7) = 0;
    out(15, 8) = 0;
    out(15, 9) = 0;
    out(15, 10) = 0;
    out(15, 11) = 0;
    out(15, 12) = 0;
    out(15, 13) = 0;
    out(15, 14) = 0;
    out(15, 15) = 0;
    out(15, 16) = 0;
    out(15, 17) = 0;
    out(16, 0) = 0;
    out(16, 1) = 0;
    out(16, 2) = 0;
    out(16, 3) = 0;
    out(16, 4) = 0;
    out(16, 5) = 0;
    out(16, 6) = 0;
    out(16, 7) = 0;
    out(16, 8) = 0;
    out(16, 9) = 0;
    out(16, 10) = 0;
    out(16, 11) = 0;
    out(16, 12) = 0;
    out(16, 13) = 0;
    out(16, 14) = 0;
    out(16, 15) = 0;
    out(16, 16) = 0;
    out(16, 17) = 0;
    out(17, 0) = 0;
    out(17, 1) = 0;
    out(17, 2) = 0;
    out(17, 3) = 0;
    out(17, 4) = 0;
    out(17, 5) = 0;
    out(17, 6) = 0;
    out(17, 7) = 0;
    out(17, 8) = 0;
    out(17, 9) = 0;
    out(17, 10) = 0;
    out(17, 11) = 0;
    out(17, 12) = 0;
    out(17, 13) = 0;
    out(17, 14) = 0;
    out(17, 15) = 0;
    out(17, 16) = 0;
    out(17, 17) = 0;

}
